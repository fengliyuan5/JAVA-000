学习笔记
# JVM基础知识
Java是一种面向对象的，静态类型、编译运行，有JVM、GC和运行时的、跨平台的高级语言。
# JVM字节码
## 什么是字节码？
字节码开头以 cache babe，java bytecode由单字节（byte）的执行组成。理论支持256个操作码，实际上java只使用了200左右的操作码。
## 字节码分类
1. 栈操作指令
2. 流程控制指令
3. 对象操作指令
4. 算术运算符以及类型转换指令
## 如何编译和反编译？
1. 使用 javac -g Hello.java编译java源代码
2. 使用 javap -c -verbose Hello 反编译class文件成助记符文件（汇编语言形式）
## 字节码运行时结构
每个线程都会创建自己的线程栈，用于存储栈帧，每一次方法调用，JVM都会自动创建一个栈帧。
栈帧组成：
* Class引用，指向常量池 在堆内存中或元数据空间
* 局部变量数组
* 操作数栈
# JMV类加载器
## 类的声明周期
* 加载：找Class文件
* 链接：包括验证、准备、解析
* 初始化：构造器、静态变量、静态代码块
* 使用
* 卸载
## 类的加载初始化时机
* jvm启动时main方法所在类
* new
* 调用静态方法、访问静态字段
* 子类初始化会触发父类
* 反射、调用 MethodHandle 实例时。
## 类不初始化（可能会加载）
* 子类引用父类静态字段，触发父类初始化，不触发子类初始化
* 定义对象数组，不会触发该类初始化
* 常量在编译期间
* Hello.class
* Class.forName("jvm.Hello")
* ClassLoader默认的loadClass方法
## 加载器类型
* 启动类加载器
* 扩展类加载器
* 应用类加载器
## 加载器特点
* 双亲委托
* 加载依赖
* 缓存
## 自定义加载器
# JVM内存模型
## 为什么要区分栈和堆？
* 程序执行的时候，需要小的数据空间并且执行完就释放，也需要存活时间很长的，并且大小不确定的。
* 栈是可以对操作数进行操作，堆具有生命周期。
# JVM启动参数
